:root{
  /* --- Trade Impact Lounge palette (from your screenshot) --- */
  /* Teals/Greens */
  --teal-100:#EAF6F4;   /* very light background */
  --teal-150:#D7ECE8;   /* section panels (Explore Our Impact) */
  --teal-200:#C2E3DD;   /* light cards on teal sections */
  --teal-300:#9FD3C6;   /* soft accent */
  --teal-600:#2A8C82;   /* medium teal (buttons, tabs) */
  --teal-700:#18786F;   /* deep teal (headers on light bg) */
  --green-500:#33B990;  /* brand green (primary CTA, money) */

  /* Gold/yellow accent from hero/buttons */
  --gold-500:#F3C613;

  /* Surfaces & text */
  --bg:#EAF6F4;         /* page */
  --panel:#FFFFFF;      /* cards/panels */
  --panel-soft:#F6FBFA; /* soft white for subtle contrast */
  --ink:#0F2D2E;        /* primary text (deep teal) */
  --muted:#5D7A7F;      /* secondary text */
  --ring:#CFE0DC;       /* borders / outlines */
  --shadow-elev: 0 1px 2px rgba(6,44,40,.06), 0 10px 24px rgba(6,44,40,.06);

  /* Leaning families (balanced contrast) */
  --accent:   #33B990; /* Money – brand green */
  --accent-2: #2A8C82; /* Projects – teal */
  --accent-3: #F3C613; /* Trade – gold */
  --accent-4: #0E5F5A; /* Jobs – deep teal */

  /* Delta gradient (keeps your example’s purple for “down”, brand for “up”) */
  --delta-neg: #6A00A8;   /* purple */
  --delta-zero: var(--panel-soft);
  --delta-pos: var(--accent);
}

/* ---- Base ---- */
*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans";
  background:var(--bg);
  color:var(--ink);
}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:0 auto;padding:24px}

/* ---- Panels / cards ---- */
.panel{
  background:var(--panel);
  border:1px solid var(--ring);
  border-radius:12px;
  padding:16px;
  box-shadow:var(--shadow-elev);
  overflow: hidden;
}
.panel.soft{background:var(--panel-soft)}

.row{display:flex;gap:12px;flex-wrap:wrap}
.hstack{display:flex;gap:8px;align-items:center}

.title{font-size:22px;margin:0 0 4px;color:var(--teal-700)}
.subtitle{color:var(--muted);margin:0 0 8px}

.badge{
  padding:2px 8px;border-radius:999px;
  background:var(--panel-soft);
  border:1px solid var(--ring);
  color:var(--ink);
}

/* ---- Tabs ---- */
.tabbar{display:flex;gap:8px;margin:16px 0}
.tab{
  padding:8px 12px;border-radius:8px;
  border:1px solid var(--ring);
  background:var(--panel);
  cursor:pointer;color:var(--teal-700);
}
.tab[aria-selected="true"]{
  outline:2px solid var(--teal-600);
  outline-offset:1px;
  color:#fff;
  background:linear-gradient(180deg,var(--teal-600),var(--teal-700));
  border-color:transparent;
}

/* ---- Grids ---- */
.grid{display:grid;gap:12px}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-4{grid-template-columns:repeat(4,1fr)}
.metric-card{flex:1 1 260px;min-width:260px}
.caption{color:var(--muted);font-size:12px}
hr.sep{border:0;border-top:1px solid var(--ring);margin:16px 0}

/* ---- Inputs / buttons ---- */
select,button{
  background:var(--panel);
  color:var(--ink);
  border:1px solid var(--ring);
  border-radius:8px;
  padding:6px 8px;
}
select:focus,button:focus{outline:2px solid var(--teal-600);outline-offset:2px}
button.primary{
  background:linear-gradient(180deg,var(--green-500),#25a580);
  color:#fff;border-color:transparent;
}
button.warn{
  background:linear-gradient(180deg,var(--gold-500),#d6ab12);
  color:#122; border-color:transparent;
}

/* ---- Chart helpers ---- */
.bar-frame{
  position: relative;
  width: 100%;                 /* stretch to the grid column */
  height: 12px;
  background: var(--panel-soft);
  border: 1px solid var(--ring);
  border-radius: 999px;        /* pill shape */
  overflow: hidden;            /* clip the fill to rounded corners */
}
.bar-fill{
  position: absolute;
  left: 0; top: 0; bottom: 0;
  width: var(--w, 0%);         /* set via inline CSS variable */
  background: var(--accent);
  border-radius: inherit;      /* rounded right end at 100% */
  transform: translateZ(0);    /* avoid subpixel gaps in some browsers */
}
.unit-dot{width:8px;height:8px;border-radius:2px;background:var(--accent-2)}
.jobs-emph{color:var(--accent-4)}

/* ---- Africa tile map ---- */
svg .tile { fill: var(--panel-soft); stroke: var(--ring); }
svg .label { fill: var(--ink); }
svg .muted { fill: var(--muted); }


/* Wider cards so bars have room */
.region-grid{
  display:grid;
  gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); /* was 260px */
  align-items:start;
}

.region-card{ display:flex; flex-direction:column; gap:12px; padding:16px 18px; }
.region-title{ margin:0; font-size:18px; color:var(--teal-700); }


.region-label{ color:var(--muted); font-size:12px; }
.region-row3{
  display: grid;
  grid-template-columns: 110px minmax(0, 1fr) 84px; /* ← fixed label & value */
  align-items: center;
  column-gap: 12px;
  row-gap: 6px;
}

.region-label{
  color: var(--muted);
  font-size: 12px;
}

/* fixed width so the bar column is identical across cards */
.region-value{
  width: 84px;                 /* keep this fixed */
  text-align: right;
  font-variant-numeric: tabular-nums;
  color: var(--ink);
  font-size: 13px;
}
.region-footer{ display:flex; justify-content:space-between; align-items:center; margin-top:2px; }

/* Bars (responsive, rounded, non-clipping) */
.bar-frame{
  position: relative;
  width: 100%;
  height: 12px;
  background: var(--panel-soft);
  border: 1px solid var(--ring);
  border-radius: 999px;
  overflow: hidden;
}
.bar-fill{
  position: absolute;
  inset: 0 auto 0 0;
  width: var(--w, 0%);
  background: var(--accent);
  border-radius: inherit;
}
/* Legend */
.legend{display:flex;align-items:center;gap:12px;margin:8px 0 4px}
.legend-col{display:flex;align-items:center;gap:6px}
.legend-bar{
  position:relative;width:200px;height:12px;border-radius:999px;overflow:hidden;
  background:linear-gradient(90deg,var(--delta-neg),var(--delta-zero),var(--delta-pos));
  border:1px solid var(--ring);
}
.legend-ticks{display:flex;justify-content:space-between;margin-top:2px;color:var(--muted);font-size:11px}

/* Tiny colour chips for families */
.legend-chip{display:inline-flex;align-items:center;gap:6px;margin-left:8px}
.legend-dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.legend-dot.money{background:var(--accent)}
.legend-dot.projects{background:var(--accent-2)}
.legend-dot.trade{background:var(--accent-3)}
.legend-dot.jobs{background:var(--accent-4)}

/* .legend-dot{
  border: 1px solid rgba(0,0,0,.18);
  box-shadow: 0 0 0 2px rgba(255,255,255,.75) inset; /* subtle inner ring */
} */

/* Metric card header: title wraps, badge stays top-right */
.card-head{
  display:grid;
  grid-template-columns: 1fr auto; /* title grows, badge keeps width */
  align-items:start;
  gap:8px;
  margin-bottom:6px;
}

/* allow multi-line title */
.card-title{
  white-space: normal;        /* ← allow wrapping */
  overflow: visible;
  text-overflow: clip;
  line-height: 1.2;
  hyphens: auto;              /* nicer breaks for long words */
  word-break: break-word;     /* safety for very long tokens */
}

/* keep the badge on one line and anchored to the top */
.card-head .badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  white-space: nowrap;        /* ▲ 20.0% stays as one line */
  line-height:1;
  flex-shrink:0;
  align-self:start;           /* pin to top-right */
}

/* Optional: on very narrow screens, put badge below title */
@media (max-width: 420px){
  .card-head{ grid-template-columns: 1fr; row-gap:6px; }
  .card-head .badge{ justify-self:start; }
}

/* Insights grids */
.insights-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}
.ring-card{ display:flex; gap:10px; align-items:center; }
.ring-meta{ display:flex; flex-direction:column; }
.ring-name{ font-weight:600; }

/* Intra share */
.share-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
}
.share-card{ background:var(--panel); border:1px solid var(--ring); border-radius:12px; padding:12px; }
.share-head{ display:grid; grid-template-columns:1fr auto; align-items:start; gap:8px; margin-bottom:6px; }
.share-name{ white-space:normal; line-height:1.2; }
.share-bar{
  display:flex; width:100%; height:14px; border-radius:999px; overflow:hidden;
  background:var(--panel-soft); border:1px solid var(--ring);
}
.share-intra{ background:var(--accent-3); }
.share-extra{ background:var(--panel-soft); }
.share-vals{ display:flex; justify-content:space-between; margin-top:6px; }
.dot{ display:inline-block; width:10px; height:10px; border-radius:999px; vertical-align:middle; }

/* Help Drawer (right slide-over) */
.drawer-backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.25); backdrop-filter: blur(1px);
  z-index: 40;
}
.drawer{
  position: fixed; top: 0; right: 0; bottom: 0;
  width: min(420px, 90vw);
  background: var(--panel); border-left: 1px solid var(--ring);
  box-shadow: -16px 0 32px rgba(0,0,0,.08);
  transform: translateX(100%); transition: transform .25s ease;
  z-index: 41; display: flex; flex-direction: column;
}
.drawer[data-open]{ transform: translateX(0); }
.drawer-head{
  display: grid; grid-template-columns: 1fr auto; align-items: center;
  gap: 8px; padding: 14px 16px; border-bottom: 1px solid var(--ring);
}
.drawer-title{ margin: 0; font-size: 18px; color: var(--teal-700); }
.drawer-body{ padding: 12px 16px; overflow: auto; line-height: 1.45; }
.drawer-body h4{ margin: 12px 0 6px; font-size: 14px; color: var(--teal-700); }

/* Small round icon button */
.icon-btn{
  width: 22px; height: 22px; border-radius: 999px;
  display: inline-flex; align-items: center; justify-content: center;
  background: var(--panel-soft); color: var(--ink);
  border: 1px solid var(--ring); cursor: pointer;
}
.icon-btn:hover{ background: #eef7f6; }

.section-head{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:start;
  gap:8px;
  margin: 6px 0 8px;
}
.section-title{
  margin:0;
  font-size:18px;
  color: var(--teal-700);
}

/* === Government‑Revenue Multiplier (layout revamp) === */

.grm-shell{ display:grid; grid-template-columns:96px 1fr; gap:12px; align-items:start; }
.grm-axisCol{ position:relative; }
.grm-axis{
  position: sticky; top: 8px;
  /* height and margin-top are now set inline from JS: style={{ height: axisH, marginTop: axisTop }} */
  width:72px; border-left:1px solid var(--ring);
}

.grm-tick{ position: absolute; left: -1px; transform: translateY(50%); display:flex; align-items:center; gap:6px; }
.grm-line{ width:16px; height:2px; display:inline-block; }
.grm-line.grm-ok{ background: var(--accent-3); }
.grm-line.grm-good{ background: var(--accent); }
.grm-label{ font-size:12px; color:var(--muted); transform: translateX(2px); }
.grm-top,.grm-bottom{ position:absolute; left:-1px; color:var(--muted); font-size:12px; }
.grm-top{ top:-8px; transform: translateY(-100%); }
.grm-bottom{ bottom:-8px; transform: translateY(100%); }

/* Independent cards grid so tiles flow nicely */
.grm-cards{
  display:grid;
  gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  align-items:start;
}

/* Tiles */
.grm-card{ padding: 10px; overflow: visible; } /* allow popover overflow */
.grm-tile{ display:grid; grid-template-columns: 60px 1fr; align-items:center; gap:10px; }
.grm-svg{ width:60px; height:auto; display:block; }
.grm-svg-wrap{ position:relative; outline:none; cursor:pointer; }
.grm-svg-wrap:focus-visible{ box-shadow: 0 0 0 2px var(--accent-3); border-radius:6px; }

.grm-name{ font-weight:600; line-height:1.2; }
.grm-values{ display:grid; gap:2px; }
.grm-mult strong{ color: var(--teal-700); }

/* Popover with auto flip */
.popover{
  position:absolute; z-index:10; top:-6px; min-width:220px; max-width:300px;
  background:var(--panel); border:1px solid var(--ring); box-shadow:0 8px 20px rgba(0,0,0,.08);
  border-radius:8px; padding:10px 10px 8px;
}
.popover.right{ left: 70px; }     /* to the right of thermometer */
.popover.left{ right: 70px; }     /* flip to the left */
.popover.right:before,
.popover.left:before,
.popover.right:after,
.popover.left:after{ content:""; position:absolute; top:18px; border-style:solid; }
.popover.right:before{ left:-7px; border-width:7px; border-color:transparent var(--ring) transparent transparent; }
.popover.right:after{ left:-6px; border-width:6px; border-color:transparent var(--panel) transparent transparent; }
.popover.left:before{ right:-7px; border-width:7px; border-color:transparent transparent transparent var(--ring); }
.popover.left:after{ right:-6px; border-width:6px; border-color:transparent transparent transparent var(--panel); }

.popover-head{ display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; margin-bottom:6px; }
.popover-head .tag{ font-size:11px; padding:2px 6px; border-radius:999px; background:var(--panel-soft); color:var(--muted); }
.popover-body .kv{ display:grid; grid-template-columns:1fr auto; gap:8px; align-items:baseline; margin:2px 0; }
.popover-body .kv span{ color:var(--muted); }
.popover-body .kv strong{ white-space:nowrap; }
.popover .muted{ color:var(--muted); font-style:normal; }

@media (max-width: 720px){
  .grm-shell{ grid-template-columns: 1fr; }
  .grm-axis{ position:static; height: 140px; }
  .grm-cards{ grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
}

/* ---- Inclusive Jobs (butterfly) ---- */
.bfly-grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}
.bfly-card{ overflow:visible }
.bfly-card .card-head{
  display:grid; grid-template-columns:1fr auto; align-items:start; gap:8px; margin-bottom:4px;
}


/* Local content legend dots */
.legend-dot.domestic{ background: var(--teal-700); }
.legend-dot.imported{ background: var(--gold-500); }
/* Clip <svg> content to the panel's rounded shape */
.chart-clip {
  overflow: hidden;
  border-radius: var(--radius, 12px);
}
/* Ensure chart popovers render text visibly above SVGs */
.popover--chart {
  background: var(--surface, #fff);
  border: 1px solid var(--border, rgba(0,0,0,.08));
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
  border-radius: 8px;
}
